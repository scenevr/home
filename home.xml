<scene>

  <spawn position="0 1 0" />

  <skybox style="color: linear-gradient(#fff, #ccf)" />

  <!-- Gallery model -->
  <model src="/models/home.obj" position="0 0.01 0" style="collision: none; color: #444; light-map: url(/textures/home-lightmap.jpg)" />

  <!-- Foyer -->
  <model id="teapot" src="/models/teapot.obj" position="13 1.2 -15" style="color: #f70; collision: none;" scale="0.5 0.5 0.5" />
  <billboard position="4 1.0 -17.5" scale="1.2 1.2 0.1">
    <![CDATA[
      <h1 style="font-size: 70px; line-height: 440px; margin: 0; text-align: center; color: #aaa">Utah &rarr;</h1>
    ]]>
  </billboard>
  <script>
    <![CDATA[
      setInterval(function(){
        document.getElementById("teapot").rotation.y = new Date().valueOf() / 900;
        document.getElementById("teapot").rotation.z = new Date().valueOf() / 1300;
      }, 1000 / 5);
    ]]>
  </script>

  <model src="/models/armchair.obj" position="-10 0 -13" rotation="0 1.3 0" style="color: #933;" scale="0.8 0.8 0.8" />
  <model src="/models/armchair.obj" position="-7 0 -16" rotation="0 -0.1 0" style="color: #933;" scale="0.8 0.8 0.8" />
  <billboard position="-2 1.0 -17.5" scale="1.2 1.2 0.1">
    <![CDATA[
      <h1 style="font-size: 70px; line-height: 440px; margin: 0; text-align: center; color: #aaa">&larr; Morpheus</h1>
    ]]>
  </billboard>

  <!-- Climbing puzzle -->
  <box class="elevator" position="15 -2 10.4" scale="1.2 10 1.2" style="color: #999" />
  <box position="13.5 6.5 10.4" scale="1.2 0.2 1.2" style="color: #999" />
  <box position="9.5 6.5 10.4" scale="1.2 0.2 1.2" style="color: #999" />
  <box position="5.5 6.5 10.4" scale="1.2 0.2 1.2" style="color: #999" />
  <box position="4.4 5.9 10.4" rotation="0 0 0.78" scale="2.0 0.2 1.2" style="color: #999" />
  <box position="3.1 5.2 10.4" scale="1.2 0.2 1.2" style="color: #999" />
  <box position="-1.5 5.2 10.4" scale="1.2 0.2 1.2" style="color: #999" />
  <box position="-9 5.2 10.4" scale="8 0.2 1.2" style="color: #999" />
  <box position="-12 5.2 9" scale="4 0.2 2.4" style="color: #999" />

  <link href="//samples.scenevr.hosting/click_to_divide.xml" position="-12.5 6.2 9.4" rotation="0 1.57 0"/>

  <model id="queenie" src="/models/queenie.obj" position="-11.6 5.3 10.2" rotation="0 1.7 0" scale="0.2 0.2 0.2" style="texture-map: url(/textures/queenie.png); collision: none;" />

  <script>
    document.getElementById("queenie").addEventListener("click", function(){
      console.log("Queenie says: Mow.");
    });
  </script>

  <script>
    <![CDATA[
      document.querySelectorAll(".elevator").forEach(function(e){
        setInterval(function(){
          var m = 7,
            i = new Date().valueOf() / 500,
            y = m - Math.abs(i % (2*m) - m);

          e.position.y = y - 5;
        }, 1000 / 5);
      });
    ]]>
  </script>

  <!-- Toggle Matrix -->
  <box class="toggle" position="-7 1 10.7" scale="0.3 0.3 0.3" style="color: #fff" />
  <box class="toggle" position="-6.5 1 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6 1 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-5.5 1 10.7" scale="0.3 0.3 0.3" style="color: #333" />

  <box class="toggle" position="-7 1.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6.5 1.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6 1.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-5.5 1.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />

  <box class="toggle" position="-7 2 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6.5 2 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6 2 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-5.5 2 10.7" scale="0.3 0.3 0.3" style="color: #333" />

  <box class="toggle" position="-7 2.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6.5 2.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-6 2.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />
  <box class="toggle" position="-5.5 2.5 10.7" scale="0.3 0.3 0.3" style="color: #333" />

  <script>
    document.querySelectorAll("box.toggle").forEach(function(b){
      b.addEventListener("click", function(){
        b.style.color = (b.style.color == '#fff' ? '#333' : '#fff');
      });
    });
  </script>

  <billboard position="-8 1.4 10.8" scale="1.2 1.2 0.1" rotation="0 3.14 0">
    <![CDATA[
      <center style="color: #333; font-size: 32px; margin: 160px 80px;">
        This is the toggle matrix. Click a box to change it's color.
      </center>
    ]]>
  </billboard>

  <!-- West wing -->
  <model src="/models/reddit.obj" position="-34 6 -3" rotation="0 1.57 0" style="color: #642; collision: none; " scale="3 3 3" />
  <model id="snoo" src="/models/snoo.obj" position="-11.5 0 -1" rotation="0 1.57 0" style="light-map: url(/textures/snoo.jpg);" scale="1 1 1" />
  <billboard position="-12.5 1.0 -6" scale="1.2 1.2 0.1" rotation="0 1.57 0">
    <![CDATA[
      <center style="color: #333; font-size: 42px; margin-top: 40px;">
        <b>Reddit Galleries</b><br /><br />
        Make sure you click the orange globes, they are portals that will link you to the gallery!
        <br /><br />
        <small style="font-size: 24px; color: #aaa">(There might be two hidden portals too)</small>
      </center>
    ]]>
  </billboard>

  <script>
    document.getElementById("snoo").addEventListener("click", function(){
      console.log("Snoo says hello!");
    });
  </script>

  <link href="//reddit.scenevr.hosting/r-microporn.xml" position="-29.2 1 1.5" />
  <billboard position="-28 2.3 1.7" scale="3 3 0.1" rotation="0 3.14 0">
    <![CDATA[
      <img src="/images/microporn.jpg" style="width: 100%; margin-top: 60px;" />
      <center>/r/microporn</center>
    ]]>
  </billboard>

  <link href="//reddit.scenevr.hosting/r-desertporn.xml" position="-33.5 1 -4.2" rotation="0 1.57 0" />
  <billboard position="-34 2.3 -3" scale="3 3 0.1" rotation="0 1.57 0">
    <![CDATA[
      <img src="/images/desert.jpg" style="width: 100%;margin-top: 60px;" />
      <center>/r/desertporn</center>
    ]]>
  </billboard>

  <link href="//reddit.scenevr.hosting/r-fractalporn.xml" position="-27.0 1 -8.3" />
  <billboard position="-28 2.3 -8.5" scale="3 3 0.1" rotation="0 0 0">
    <![CDATA[
      <img src="/images/fractal.jpg" style="width: 100%; margin-top: 90px" />
      <center>/r/fractalporn</center>
    ]]>
  </billboard>

  <!-- North wing -->
  <model src="/models/alien.obj" position="1.5 0 -48" style="color: #797; texture-map: url(/textures/alien.jpg)" scale="5 5 5" />

  <billboard position="1.5 0.4 -44" rotation="-0.32 0 0" scale="1.2 1.2 0.1">
    <![CDATA[
      <h3>The Grey Alien</h3>

      <div style="line-height: 1.5em">
        Greys are typically depicted as dark grey-skinned diminutive humanoid beings that possess reduced forms of, or completely lack, external human organs such as noses, ears or sex organs. Their bodies are usually depicted as being elongated, having a small chest, and lacking in muscular definition and visible skeletal structure.
      </div>
    ]]>
  </billboard>

  <!-- South wing -->
  <billboard position="-2 1.0 10.8" scale="1.2 1.2 0.1" rotation="0 3.14 0">
    <![CDATA[
      <center style="color: #333; font-size: 32px; margin: 80px;">
        Did you know you can <b>create</b> your own scenevr scenes?
        <br />
        <br />
        After you make a scene, post it to <b>/r/scenevr</b> and we will
        add a portal to your scene in this room.
      </center>
    ]]>
  </billboard>

  <link position="0.5 1 31.2" href="//velveeta.scenevr.hosting/thestreet.xml" rotation="0 3.14 0" />

  <!-- Collision -->

  <box position='0.16626548767089844 -1.505699634552002 -0.6487710475921631' scale='80.0 2.0 200.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-3.6149256229400635 6.710185527801514 1.4967803955078125' scale='2.0 19.231510162353516 2.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='5.27642822265625 6.710185527801514 1.4967803955078125' scale='2.0 19.231510162353516 2.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='5.27642822265625 6.710185527801514 -7.787734031677246' scale='2.0 19.231510162353516 2.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-3.6149256229400635 6.710185527801514 -7.787734031677246' scale='2.0 19.231510162353516 2.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='13.73502254486084 5.036743640899658 35.987178802490234' scale='-14.765035629272461 9.753785133361816 -34.86021041870117' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='14.193778991699219 5.036743640899658 35.987178802490234' scale='-14.765035629272461 9.753785133361816 -34.86021041870117' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-11.143623352050781 5.036743640899658 35.987178802490234' scale='-14.765035629272461 9.753785133361816 -34.86021041870117' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='1.8075966835021973 5.036743640899658 35.22750473022461' scale='-14.765035629272461 9.753785133361816 7.518105506896973' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='1.8075966835021973 5.036743640899658 35.987178802490234' scale='-14.765035629272461 9.753785133361816 7.518105506896973' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-41.24810791015625 5.036743640899658 -0.513646125793457' scale='-14.765035629272461 9.753785133361816 22.078222274780273' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-29.702537536621094 5.036743640899658 12.826974868774414' scale='-14.765035629272461 9.753785133361816 22.078222274780273' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-29.702537536621094 5.036743640899658 -19.860794067382812' scale='-14.765035629272461 9.753785133361816 22.078222274780273' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='3.4816503524780273 5.279668807983398 -57.7196044921875' scale='40.0 -11.404261589050293 2.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-18.175796508789062 5.550046443939209 -34.365272521972656' scale='11.37554931640625 11.903839111328125 60.94986343383789' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-18.175796508789062 5.550046443939209 14.46824836730957' scale='11.22463321685791 11.903839111328125 33.200496673583984' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='16.5776309967041 5.550046443939209 -16.31415557861328' scale='2.0 11.903839111328125 80.0' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='10.053553581237793 5.036743640899658 -28.755661010742188' scale='-14.765035629272461 9.753785133361816 22.078222274780273' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-7.622105598449707 5.036743640899658 -28.755661010742188' scale='-14.765035629272461 9.753785133361816 22.078222274780273' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='-7.899746894836426 5.079803943634033 16.130765914916992' scale='-14.765035629272461 9.753785133361816 10.851058006286621' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />
  <box position='8.87535285949707 5.079803943634033 16.130765914916992' scale='-14.765035629272461 9.753785133361816 10.225648880004883' rotation='0.0 0.0 0.0' style='color: #f0a; visibility: hidden;' />

  <!--
  <billboard position="1.0 20.5 -8" rotation="0 0 0" scale="3 3 0.2">
    <![CDATA[
	    <div style="font-size: 32px">
	    	<p>
	    		Welcome to <b>SceneVR</b>.
	    	</p>
	    	
	    	<p style="color: #555">
		    	This is the home room. Click any
	    		of the globes to open a portal to the adjoining scenes.
	    	</p>
	    </div>
    ]]>
  </billboard>

  <box class="kinetic" style="color: #b0b5e5; material: phong;" scale="0.2 0.2 0.2" position="8 21 8" />

  <script>
      setInterval(function(){
        var t = new Date().getTime() / 5000.0

        var v = new Vector(
          Math.sin(t * 11) * 2, 0, Math.cos(t * 7) * 2
        );

        document.querySelectorAll("box.kinetic")[0].position = v.add(new Vector(8, 21, 8));
      }, 1000 / 10);

  </script>
  =-->
 </scene>